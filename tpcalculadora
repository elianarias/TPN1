/* Calculadora en C*/

#include<stdio.h>


/*Definición de funciones*/

int menu();
void leeNumero(int *a,int *b);
int suma(int a, int b);
int resta(int a, int b);
void multiplicacion(int a, int b, float*resultado);
float division(int a, int b);
int factorial(int a);
int nrofactor(int a);


/*Función principal*/
/**\brief muestra un menú donde solicita dos nros
  *\param determinan los nros que se van a utilizar en la operación
  *\return retorna el resultado de una operación
  */
int main(void){
    /*Definición de variables*/
    float resultado,d;
    int men,s,r,a,b,e;
    men=menu(); //Asigno la opción que devuelve el menú a men

    /*La variable men que almacena el valor que devuelve la función menú
      se usa para elegir la constante que determinará el caso que elige el
      switch. Se añade de nuevo la asignación dentro de cada caso del switch
      para que no termine el programa hasta que no se elija la opción salir,
      lo cual rompe la condición del while y sale del bucle*/
    while(men!=0){
        switch(men){
            case 1 :{
                leeNumero(&a,&b); //Funcion que lee los numeros
                s=suma(a,b);
                printf("%d+%d=%d\n\n",a,b,s);
                men=menu();
            }
            break;
            case 2 :{
                leeNumero(&a,&b);
                r=resta(a,b);
                printf("%d-%d=%d\n",a,b,r);
                men=menu();
            }
            break;
            case 3 :{
                leeNumero(&a,&b);
                multiplicacion(a,b,&resultado);
                printf("%d*%d=%f\n",a,b,resultado);
                men=menu();
            }
            break;
            case 4 :{
                leeNumero(&a,&b);
                d=division(a,b);
                if(b<=0){
                    printf("ERROR!");
                }
                else{
                printf("%d:%d=%f\n",a,b,d);
                men=menu();
            }}
            break;
            case 5:{
                printf("Ingrese un valor:\n");
                scanf("%d",&a);
                f=factorial(a);
                printf("%d!=%d\n",a,f);
                men=menu();

            }
             case 6:{
               leeNumero(&a,&b);
                s=suma(a,b);
                printf("suma %d+%d=%d\n",a,b,s);
                r=resta(a,b);
                printf("resta %d-%d=%d\n",a,b,r);
                multiplicacion(a,b,&resultado);
                printf("multiplicacion %d*%d=%f\n",a,b,resultado);
                d=division(a,b);
                printf("division %d:%d=%f\n",a,b,d);
                printf("Ingrese un valor:\n");
                scanf("%d",&a);
                f=factorial(a);
                printf("%d!=%d\n",a,f);

            }
         default :
                printf("Opcion incorrecta\n");
                men=menu();
        }
    }
    printf("Hasta luego!");
}
/*Función menú*/
/**\brief presenta un menú de opciones
  *\param se ingresa la opción indicada
  *\return escanea la opcion y realiza la operación indicada.
  */
int menu(){
    int opcion;
    printf( "1.Suma\n"
            "2.Resta\n"
            "3.Multiplicacion\n"
            "4.Division\n"
            "5.Factorial\n"
            "6.Todas las operaciones\n"
            "0.Salir\n"
            "Ingrese una opcion:\n");
    scanf("%d",&opcion);
    return(opcion);
}
/*Función que lee los valores con las que se va a operar*/
/**\brief lee los valores que se ingresan
  *\param valores ingresados
  *\return retorna los valores escaneado
  */
void leeNumero(int *a,int *b){
    printf("Ingrese un valor:\n");
    /*No se necesita & porque a es una dirección de memoria
     *(*a) que es lo que yo le daba con el ampersan*/
    scanf("%d",a);
    printf("Ingrese otro valor:\n");
    scanf("%d",b);
}

/*Función suma*/
/**\brief resuelve una suma
  *\param valores ingresados por el usuario
  *\return resultado de la suma
  */
int suma(int a, int b){
    int suma;
    suma=a+b;
    return(suma);
}
/*Función resta*/
/**\brief resuelve una resta
  *\param valores ingresados por el usuario
  *\return resultado de la resta
  */
int resta(int a, int b){
    int resta;
    resta=a-b;
    return(resta);
}
/*Función multiplicación*/
/**\brief resuelve una multiplicación
  *\param valores ingresados por el usuario
  *\return resultado de la multiplicación
  */
void multiplicacion(int a, int b, float *resultado){
    *resultado=a*b;
}
/*Función división*/
/**\brief resuelve una división
  *\param valores ingresados por el usuario
  *\return resultado de la división
  */
float division(int a, int b){

    float division;
    division=(float)a/b;
    return(division);
}


//funcion factorial/
/**\brief resuelve un factorial
  *\param valores ingresados por el usuario
  *\return devuelve el factorial
  */
int factorial(int a){
    int resultado;
    if(a==1){
        return(1);
    }
    resultado=a*factorial(a-1);
    return(resultado);
}
